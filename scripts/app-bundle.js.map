{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js"],"names":["App","http","email","password","confirm","activate","params","queryDict","location","search","substr","split","forEach","item","console","log","authUrl","redirect","code","do","fetch","then","response","json","window","replace","alert","debug","testing","configure","Promise","config","longStackTraces","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot"],"mappings":";;;;;;;;;;;;;;;;MAIaA,cAAAA,cADZ;AAEC,iBAAYC,IAAZ,EAAkB;AAAA;;AAChB,WAAKA,IAAL,GAAYA,IAAZ;AACA,WAAKC,KAAL,GAAa,EAAb;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKC,OAAL,GAAe,EAAf;AACD;;kBAEDC,6BAASC,QAAQ;AACf,UAAIC,YAAY,EAAhB;AACA,UAAGC,SAASC,MAAZ,EAAmB;AACjBD,iBAASC,MAAT,CAAgBC,MAAhB,CAAuB,CAAvB,EAA0BC,KAA1B,CAAgC,GAAhC,EAAqCC,OAArC,CAA6C,UAASC,IAAT,EAAe;AAACN,oBAAUM,KAAKF,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAV,IAAgCE,KAAKF,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAhC;AAAmD,SAAhH;AACAG,gBAAQC,GAAR,CAAY,eAAZ;AACAD,gBAAQC,GAAR,CAAYR,SAAZ;AACA,aAAKS,OAAL,GAAeT,UAAU,SAAV,CAAf;AACA,aAAKU,QAAL,GAAgBV,UAAU,UAAV,CAAhB;AACA,aAAKL,KAAL,GAAaK,UAAU,QAAV,CAAb;AACA,aAAKW,IAAL,GAAYX,UAAU,MAAV,CAAZ;AACD,OARD,MAQO,CAEN;AACF;;kBAEDY,oBAAK;AAAA;;AACH,UAAG,CAAC,KAAKjB,KAAN,IAAe,CAAC,KAAKC,QAArB,IAAiC,CAAC,KAAKC,OAA1C,EAAkD;AAChD;AACD;AACD,UAAG,KAAKD,QAAL,KAAkB,KAAKC,OAA1B,EAAkC;AAChC;AACD;;AAED,WAAKH,IAAL,CAAUmB,KAAV,CAAmB,KAAKJ,OAAxB,+BAAyD,KAAKd,KAA9D,oBAAkF,KAAKgB,IAAvF,qBAA2G,KAAKd,OAAhH,EACEiB,IADF,CAEE;AAAA,eAAYC,SAASC,IAAT,GAAgBF,IAAhB,CAAqB,gBAAQ;AACvCG,iBAAOhB,QAAP,CAAgBiB,OAAhB,CAAwB,MAAKR,QAA7B;AACD,SAFW,CAAZ;AAAA,OAFF,EAKE;AAAA,eAAY;AAAA,iBAAYS,MAAM,cAAN,CAAZ;AAAA,SAAZ;AAAA,OALF;AAMD;;;;;;;;;;;oBCzCY;AACbC,WAAO,IADM;AAEbC,aAAS;AAFI;;;;;;;;UCUCC,YAAAA;;;;;;;;;;AAPhBC,UAAQC,MAAR,CAAe;AACbC,qBAAiB,IADJ;AAEbC,cAAU;AACRC,wBAAkB;AADV;AAFG,GAAf;;AAOO,WAASL,SAAT,CAAmBM,OAAnB,EAA4B;AACjCA,YAAQC,GAAR,CACGC,qBADH,GAEGC,OAFH,CAEW,WAFX;;AAIA,QAAI,sBAAYX,KAAhB,EAAuB;AACrBQ,cAAQC,GAAR,CAAYG,kBAAZ;AACD;;AAED,QAAI,sBAAYX,OAAhB,EAAyB;AACvBO,cAAQC,GAAR,CAAYI,MAAZ,CAAmB,iBAAnB;AACD;;AAEDL,YAAQM,KAAR,GAAgBpB,IAAhB,CAAqB;AAAA,aAAMc,QAAQO,OAAR,EAAN;AAAA,KAArB;AACD;;;;;;;;UCxBeb,YAAAA;AAAT,WAASA,SAAT,CAAmBE,MAAnB,EAA2B,CAEjC","file":"app-bundle.js","sourcesContent":["import { inject } from \"aurelia-framework\";\r\nimport { HttpClient } from \"aurelia-fetch-client\";\r\n\r\n@inject(HttpClient)\r\nexport class App {\r\n  constructor(http) {\r\n    this.http = http;\r\n    this.email = '';\r\n    this.password = '';\r\n    this.confirm = '';\r\n  }\r\n\r\n  activate(params) {\r\n    var queryDict = {};\r\n    if(location.search){\r\n      location.search.substr(1).split(\"&\").forEach(function(item) {queryDict[item.split(\"=\")[0]] = item.split(\"=\")[1]})\r\n      console.log(\"logging query\");\r\n      console.log(queryDict);\r\n      this.authUrl = queryDict['authUrl'];\r\n      this.redirect = queryDict['redirect'];\r\n      this.email = queryDict['userId'];\r\n      this.code = queryDict['code'];\r\n    } else {\r\n      \r\n    }\r\n  }\r\n\r\n  do() {\r\n    if(!this.email || !this.password || !this.confirm){\r\n      return;\r\n    }\r\n    if(this.password !== this.confirm){\r\n      return;\r\n    }\r\n    \r\n    this.http.fetch(`${this.authUrl}/changepassword?userId=${this.email}&changeCode=${this.code}&newPassword=${this.confirm}`).\r\n      then(\r\n      response => response.json().then(data => {\r\n        window.location.replace(this.redirect)\r\n      }),\r\n      response => response => alert('unauthorized'));\r\n  }\r\n}\r\n","export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import environment from './environment';\r\n\r\n//Configure Bluebird Promises.\r\nPromise.config({\r\n  longStackTraces: true,\r\n  warnings: {\r\n    wForgottenReturn: false\r\n  }\r\n});\r\n\r\nexport function configure(aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources');\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","export function configure(config) {\r\n  //config.globalResources([]);\r\n}\r\n"],"sourceRoot":"../src"}